<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Ipi on Underkube</title><link>https://www.underkube.com/tags/ipi/</link><description>Recent content in Ipi on Underkube</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Mon, 08 Mar 2021 08:30:00 +0000</lastBuildDate><atom:link href="https://www.underkube.com/tags/ipi/index.xml" rel="self" type="application/rss+xml"/><item><title>Customizing OpenShift 4 baremetal IPI network at installation time</title><link>https://www.underkube.com/custom-network-openshift-ipi-install-time/</link><pubDate>Mon, 08 Mar 2021 08:30:00 +0000</pubDate><guid>https://www.underkube.com/custom-network-openshift-ipi-install-time/</guid><description>When deploying OpenShift IPI on baremetal, there is only so much you can tweak at installation time in terms of networking. Of course you can do changes after the installation, such as applying bonding configurations or vlan settings via machine configs&amp;hellip; but what if you need those changes at installation time?
In my case, I have an OpenShift environment composed by physical servers where each of them have 4 NICs. 1 unplugged NIC, 1 NIC connected to the provisioning network and 2 NICs connected to the same switch and to the same baremetal subnet.</description></item><item><title>Deploy OpenShift Virtualization 2.5 on OCP 4.6.1 on baremetal IPI</title><link>https://www.underkube.com/openshift-virtualization-on-ocp/</link><pubDate>Thu, 19 Nov 2020 09:30:42 +0200</pubDate><guid>https://www.underkube.com/openshift-virtualization-on-ocp/</guid><description>Preparation ðŸ”—Ensure your workers have the virtualization flag enabled:
for node in $(oc get nodes -o name | grep kni1-worker); do oc debug ${node} -- grep -c -E &amp;#39;vmx|svm&amp;#39; /host/proc/cpuinfo done That snippet should return the number of cpu cores with virtualization enabled (it should be all of them).
Subscription ðŸ”—cat &amp;lt;&amp;lt;EOF | oc apply -f - apiVersion: v1 kind: Namespace metadata: name: openshift-cnv --- apiVersion: operators.coreos.com/v1 kind: OperatorGroup metadata: name: kubevirt-hyperconverged-group namespace: openshift-cnv spec: targetNamespaces: - openshift-cnv --- apiVersion: operators.</description></item><item><title>Deploy OCS 4.5 on OCP 4.6.1 on baremetal IPI</title><link>https://www.underkube.com/ocs-on-ocp/</link><pubDate>Wed, 04 Nov 2020 11:30:42 +0200</pubDate><guid>https://www.underkube.com/ocs-on-ocp/</guid><description>Preparation ðŸ”—Label the nodes you want to use for OCS, in my case:
for node in $(oc get nodes -o name | grep kni1-worker); do oc label ${node} cluster.ocs.openshift.io/openshift-storage=&amp;#39;&amp;#39; done Local storage operator ðŸ”—Deploy the local storage operator
cat &amp;lt;&amp;lt;EOF | oc apply -f - apiVersion: v1 kind: Namespace metadata: name: local-storage spec: {} --- apiVersion: operators.coreos.com/v1 kind: OperatorGroup metadata: annotations: olm.providedAPIs: LocalVolume.v1.local.storage.openshift.io name: local-storage namespace: local-storage spec: targetNamespaces: - local-storage --- apiVersion: operators.</description></item></channel></rss>